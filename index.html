<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Vesak</title>
  <link href="https://fonts.googleapis.com/css2?family=Abhaya+Libre:wght@700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      overflow-x: hidden;
      font-family: sans-serif;
      background: black;
    }

    video#bg-video {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover;
      z-index: -2;
    }

    canvas {
      position: absolute;
      top: 0; left: 0;
      z-index: 0;
    }

    .fade-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: black;
      z-index: -1;
      animation: fadeIn 2s ease-out forwards;
    }

    @keyframes fadeIn {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    .vesak-title {
      position: absolute;
      top: 10px;
      width: 100%;
      text-align: center;
      color: #f1e191;
      font-size: 2.8em;
      font-family: 'Abhaya Libre', serif;
      z-index: 2;
      font-weight: 700;
      text-shadow: 0 0 10px #ffd700;
    }

    .greeting-container {
      position: absolute;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 600px;
      z-index: 2;
    }

    .greeting {
      color: #ffffff;
      font-size: 1.1em;
      text-align: left;
      background: rgba(0, 0, 0, 0.4);
      padding: 20px;
      border-radius: 10px;
      line-height: 1.8em;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
      text-shadow: 0 0 10px #ffd700;
    }

    .button-group {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .lantern-btn, .download-card {
      padding: 10px 20px;
      background: #ffd700;
      color: black;
      font-size: 1em;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 15px #ffd700;
      transition: background 0.3s ease;
      width: auto;
      max-width: 250px;
    }

    .lantern-btn:hover, .download-card:hover {
      background: #ffcc00;
    }

    .download-card {
  background: rgba(255, 255, 255, 0.15);
  color: #fff;
  border: 1px solid #ffd700;
  backdrop-filter: blur(4px);
}


.card-modal {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: rgba(0, 0, 0, 0.85);
  justify-content: center;
  align-items: center;
  z-index: 10000;
  padding: 10px; /* Prevent overflow */
  box-sizing: border-box;
}

.card-content {
  background: white;
  border-radius: 10px;
  padding: 10px;
  width: 100%;
  max-width: 600px;
  max-height: 90vh;
  overflow: auto;
  position: relative;
  box-shadow: 0 0 20px #fff;
}

.card-image {
  width: 100%;
  height: auto;
  border-radius: 10px;
  display: block;
}


    .close-btn {
      position: absolute;
      top: 10px; right: 10px;
      background: #ff3333;
      color: white;
      border-radius: 50%;
      padding: 5px 12px;
      cursor: pointer;
      font-size: 22px;
      box-shadow: 0 0 10px #000;
    }

    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.6);
      text-align: center;
      padding: 10px 0;
      z-index: 2;
    }

    .footer .logo {
      height: 40px;
    }

    @media (min-width: 768px) {
      .greeting-container {
        left: 100px;
        transform: none;
      }

      .button-group {
        flex-direction: row;
        justify-content: flex-start;
        gap: 20px;
      }

      .lantern-btn, .download-card {
        width: auto;
      }
    }

    /* Default (Desktop) */
.vesak-title {
  font-size: 2.8em;
}

.greeting {
  font-size: 1.1em;
}

.lantern-btn, .download-card {
        width: auto;
        font-size: 1em;
        padding: 10px 20px;
      }

/* Mobile view (less than 768px) */
@media (max-width: 767px) {
  .vesak-title {
    font-size: 1.5em;
  }

  .greeting {
    font-size: 0.6em;
  }

   .footer .logo {
      height: 20px;
    }
    .lantern-btn, .download-card {
      width: auto;
      font-size: 0.8em;
      padding: 5px 10px;
      }
}
  </style>
</head>
<body>

  <video id="bg-video" autoplay muted loop playsinline preload="auto">
    <source src="Background.mp4" type="video/mp4" />
  </video>

  <div class="fade-overlay"></div>
  <canvas id="bg"></canvas>

  <h1 class="vesak-title">‡∂¥‡∑í‡∂±‡∑ä‡∂∂‡∂ª ‡∑Ä‡∑ô‡∑É‡∂ö‡∑ä ‡∂∏‡∂Ç‡∂ú‡∂Ω‡∑ä‚Äç‡∂∫‡∂∫‡∂ö‡∑ä¬†‡∑Ä‡∑ö‡∑Ä‡∑è¬†!</h1>

  <div class="greeting-container">
    <div class="greeting">
      ‡∂ã‡∂≠‡∑î‡∂∏‡∑ä ‡∑É‡∂Ø‡∑Ñ‡∂∏‡∑ä ‡∑É‡∑î‡∑Ä‡∂≥ ‡∂∏‡∑ô‡∂≠‡∑ä ‡∂ö‡∂ª‡∑î‡∂´‡∑è.<br>‡∂¥‡∑í‡∂∫‡∑î‡∂∏‡∂±‡∑ä ‡∑É‡∑í‡∂≠‡∑ä ‡∂≠‡∑î‡∑Ö ‡∂¥‡∑í‡∂¥‡∑ö‡∑Ä‡∑è..<br>
      ‡∂∂‡∑î‡∂Ø‡∑î‡∂ª‡∂Ø‡∑î‡∂±‡∑ä ‡∂¥‡∑è‡∂∏‡∑î‡∂Ω ‡∂Ø‡∑í‡∂Ω‡∑ô‡∂±‡∑ä‡∂±‡∑è ‡∑Ä‡∑ñ ‡∂ª‡∂±‡∑ä‡∑Ä‡∂±‡∑ä ‡∂¥‡∑Ñ‡∂±‡∑ä ‡∑É‡∑í‡∑Ö‡∑î ‡∑É‡∑ö. ‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∑É‡∑í‡∂≠‡∑ä ‡∑É‡∂≠‡∂±‡∑ä ‡∂Ø‡∑í‡∂Ω‡∑ö‡∑Ä‡∑è..<br><br>
      ‡∂≠‡∑í‡∂Ω‡∑ù‡∂ú‡∑î‡∂ª‡∑î ‡∂Ö‡∂¥ ‡∑É‡∂∏‡∑ä‡∂∏‡∑è ‡∑É‡∂∏‡∑ä‡∂∂‡∑î‡∂Ø‡∑î‡∂ª‡∂¢‡∑è‡∂´‡∂±‡∑ä ‡∑Ä‡∑Ñ‡∂±‡∑ä‡∑É‡∑ö‡∂ú‡∑ö ‡∂ã‡∂≠‡∑î‡∂∏‡∑ä ‡∑Ä‡∑ñ ‡∂≠‡∑ô‡∂∏‡∂ü‡∑î‡∂Ω ‡∑É‡∂∏‡∂ª‡∂± 
      ‡∂∏‡∑ö ‡∑Ä‡∑õ‡∑Å‡∑è‡∂õ‡∑ä‚Äç‡∂∫ ‡∂∏‡∂Ç‡∂ú‡∑ä‚Äç‡∂∫‡∂Ω‡∂∫‡∑ö ‡∑É‡∂Ø‡∑Ñ‡∂∏‡∑ä ‡∑É‡∑í‡∑É‡∑í‡∂Ω ‡∂Ø‡∑É‡∂≠ ‡∂¥‡∑ê‡∂≠‡∑í‡∂ª‡∑ö‡∑Ä‡∑è !<br><br>
      ‡∂î‡∂∂ ‡∑É‡∑ê‡∂∏‡∂ß ‡∑É‡∑î‡∂¥‡∑Ñ‡∂±‡∑ä ‡∂∂‡∑ê‡∂≠‡∑í‡∂∂‡∂ª ‡∑É‡∑í‡∂≠‡∑ä ‡∂ã‡∂¥‡∂Ø‡∑í‡∂± ‡∑É‡∑î‡∂¥‡∑í‡∂±‡∑ä‡∂∂‡∂ª ‡∑Ä‡∑ô‡∑É‡∂ö‡∑ä ‡∂¥‡∑î‡∂ª ‡∂¥‡∑É‡∑Ö‡∑ú‡∑É‡∑ä‡∑Ä‡∂ö ‡∂¥‡∑ú‡∑Ñ‡∑ù ‡∂Ø‡∑í‡∂±‡∂∫‡∂ö‡∑ä¬†‡∑Ä‡∑ö‡∑Ä‡∑è¬†!!ü§ç
    </div>

    <div class="button-group">
      <button class="lantern-btn" id="lightLanternBtn">Click to Listen</button>
      <button class="download-card" id="downloadCard">View Vesak Card</button>
    </div>
  </div>

  <audio id="bg-music" loop>
    <source src="music.mp3" type="audio/mp3" />
  </audio>

  <audio id="narration" preload="auto">
    <source src="narration.mp3" type="audio/mp3" />
  </audio>

  <div id="cardModal" class="card-modal">
    <div class="card-content">
      <span class="close-btn" id="closeCard">&times;</span>
      <img src="vesak-card.jpg" alt="Vesak Card" class="card-image">
    </div>
  </div>

  <footer class="footer">
    <img src="association-logo.png" alt="Association Logo" class="logo">
  </footer>

  <script>
    const canvas = document.getElementById('bg');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = window.innerWidth;
    let h = canvas.height = window.innerHeight;

    window.addEventListener('resize', () => {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    });

    const lights = [];

    function createParticle(x = Math.random() * w, y = h, radius = Math.random() * 3 + 2, type = 'light') {
      lights.push({
        x, y, radius, type,
        speedY: Math.random() * 0.5 + 0.3,
        glow: type === 'lantern'
          ? 'rgba(255, 200, 100, 0.8)'
          : `hsla(${Math.random() * 60 + 40}, 100%, 80%, 0.8)`
      });
    }

    function draw() {
      ctx.clearRect(0, 0, w, h);
      for (let i = lights.length - 1; i >= 0; i--) {
        const p = lights[i];
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fillStyle = p.glow;
        ctx.shadowColor = p.glow;
        ctx.shadowBlur = 20;
        ctx.fill();
        p.y -= p.speedY;
        if (p.y < -10) lights.splice(i, 1);
      }
      requestAnimationFrame(draw);
    }

    setInterval(() => {
      createParticle();
      if (Math.random() < 0.1) createParticle(Math.random() * w, h, 5 + Math.random() * 4, 'lantern');
    }, 200);

    document.addEventListener('click', (e) => {
      for (let i = 0; i < 10; i++) {
        createParticle(e.clientX + Math.random() * 40 - 20, e.clientY + Math.random() * 40 - 20);
      }
    });

    draw();

    // Button Logic
    document.addEventListener('DOMContentLoaded', function () {
      const lightBtn = document.getElementById('lightLanternBtn');
      const downloadLink = document.getElementById('downloadCard');
      const cardModal = document.getElementById('cardModal');
      const closeBtn = document.getElementById('closeCard');
      const music = document.getElementById('bg-music');
      const narration = document.getElementById('narration');

      let isPlaying = false;

lightBtn.addEventListener('click', () => {
  if (!isPlaying) {
    // Start playing
    music.volume = 0.5;
    music.play().catch(err => console.log("Music autoplay failed:", err));
    narration.volume = 1.0;
    narration.play().catch(err => console.log("Narration autoplay failed:", err));
    lightBtn.textContent = 'Click to Stop';
    downloadLink.style.display = 'inline-block';
    isPlaying = true;
  } else {
    // Stop playing
    music.pause();
    music.currentTime = 0;
    narration.pause();
    narration.currentTime = 0;
    lightBtn.textContent = 'Click to Listen';
    isPlaying = false;
  }
});


      downloadLink.addEventListener('click', () => {
        cardModal.style.display = 'flex';
      });

      closeBtn.addEventListener('click', () => {
        cardModal.style.display = 'none';
      });
    });
  </script>
</body>
</html>
